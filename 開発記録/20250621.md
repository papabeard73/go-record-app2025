# é–‹ç™ºã®è¨˜éŒ²
## ã‚¹ãƒ†ãƒƒãƒ—ï¼‘
`main.go` ã‚’ `cmd/server/main.go` ã«ç½®ãæ§‹æˆã§ã™ã­ã€‚Goãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ **ãƒãƒ«ãƒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ§‹æˆ** ã‚’ã¨ã‚‹ã“ã¨ãŒå¤šãã€`cmd/server` ã¯ã€Œå®Ÿè¡Œãƒã‚¤ãƒŠãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã€ã¨ã„ã†æ„å‘³ã§ä½¿ã‚ã‚Œã¾ã™ã€‚ã¨ã¦ã‚‚è‰¯ã„è¨­è¨ˆæ–¹é‡ã§ã™ã€‚

---

## âœ… æƒ³å®šã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
/go-record-app2025
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go      â† ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å‡¦ç†
â”œâ”€â”€ templates/           â† HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ goal_list.html
â”œâ”€â”€ static/              â† é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒãªã©ï¼‰
â”‚   â””â”€â”€ images/
â”‚       â”œâ”€â”€ notStarted.svg
â”‚       â”œâ”€â”€ activeGoals.svg
â”‚       â””â”€â”€ completedGoals.svg
â”œâ”€â”€ go.mod
```

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—1ï¼š`go.mod` åˆæœŸåŒ–ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§ï¼‰

```sh
cd /go-record-app2025
go mod init go-record-app2025
```

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—2ï¼š`cmd/server/main.go` ã®ä¸­èº«

```go
package main

import (
	"html/template"
	"log"
	"net/http"
	"path/filepath"
)

func main() {
	// é™çš„ãƒ•ã‚¡ã‚¤ãƒ« (ä¾‹: /static/images/xxx.svg)
	fs := http.FileServer(http.Dir("static"))
	http.Handle("/static/", http.StripPrefix("/static/", fs))

	// "/" ã«ã‚¢ã‚¯ã‚»ã‚¹ãŒæ¥ãŸã‚‰ goal_list.html ã‚’è¿”ã™
	http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
		tmplPath := filepath.Join("templates", "goal_list.html")
		tmpl, err := template.ParseFiles(tmplPath)
		if err != nil {
			http.Error(w, "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼", http.StatusInternalServerError)
			log.Println("template error:", err)
			return
		}
		err = tmpl.Execute(w, nil)
		if err != nil {
			http.Error(w, "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæç”»ã‚¨ãƒ©ãƒ¼", http.StatusInternalServerError)
			log.Println("execute error:", err)
		}
	})

	log.Println("ğŸš€ http://localhost:8080 ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ä¸­")
	err := http.ListenAndServe(":8080", nil)
	if err != nil {
		log.Fatal("ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å¤±æ•—:", err)
	}
}
```

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—3ï¼šã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```sh
go run ./cmd/server
```

ã“ã‚Œã§ã€`http://localhost:8080` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ `goal_list.html` ãŒè¡¨ç¤ºã•ã‚Œã€CDNçµŒç”±ã® Tailwind ã‚„ `/static/images/` é…ä¸‹ã®ç”»åƒã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## âœ… Tipsï¼šä»Šå¾Œã®æ‹¡å¼µã«å‚™ãˆã¦

ã“ã®æ§‹æˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªä»Šå¾Œã®åˆ†é›¢ã«ã‚‚å¯¾å¿œã—ã‚„ã™ã„ã§ã™ï¼š

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª        | å†…å®¹                                   |
| ------------------- | -------------------------------------- |
| `cmd/server/`       | ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ                     |
| `internal/handler/` | HTTPãƒãƒ³ãƒ‰ãƒ©ç¾¤ï¼ˆä¾‹ï¼šç›®æ¨™ä¸€è¦§å–å¾—ãªã©ï¼‰ |
| `internal/model/`   | ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚„DBãƒ¢ãƒ‡ãƒ«                   |
| `templates/`        | HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ                       |
| `static/`           | CSS, JS, ç”»åƒãªã©                      |

---

å¿…è¦ã§ã‚ã‚Œã°ã€`internal/` ã‚„ `pkg/` ã‚’ä½¿ã£ãŸåˆ†å‰²æ§‹æˆã‚„ DI ã®è¨­è¨ˆã‚‚ä¸€ç·’ã«ã§ãã¾ã™ã€‚
ã¾ãšã¯ã“ã® `main.go` ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç¢ºèªã‚’é€²ã‚ã¦ã¿ã¾ã—ã‚‡ã†ï¼

## ã‚¹ãƒ†ãƒƒãƒ—2
ç´ æ™´ã‚‰ã—ã„ã‚¹ã‚¿ãƒ¼ãƒˆã§ã™ï¼ğŸ‰
ãƒˆãƒƒãƒ—ç”»é¢ (`goal_list.html`) ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã§ããŸã®ã§ã€**æ¬¡ã¯ã‚µãƒ¼ãƒãƒ¼å´ã§ã€Œç›®æ¨™ï¼ˆGoalï¼‰ã€ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã—ã€HTMLã«å‹•çš„ã«åæ˜ ã™ã‚‹ä»•çµ„ã¿**ã‚’å°å…¥ã—ã¦ã„ãã‚¹ãƒ†ãƒƒãƒ—ã«ãªã‚Šã¾ã™ã€‚

---

## âœ… ä»Šå¾Œã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆãƒ•ã‚§ãƒ¼ã‚º1ï¼‰

**é™çš„HTML â†’ å‹•çš„HTMLï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰** ã«é€²ã‚ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

---

### âœ… ã‚¹ãƒ†ãƒƒãƒ— 1ï¼š`Goal`æ§‹é€ ä½“ã®ä½œæˆ

`main.go` ã«ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹é€ ä½“ã‚’è¿½åŠ ã—ã¾ã™ï¼š

```go
type Goal struct {
	ID          int
	Title       string
	Description string
	TargetDate  string
	Status      string // "NotStarted", "ActiveGoals", "CompletedGoals"
}
```

---

### âœ… ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šä»®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ¸¡ã™

```go
goals := []Goal{
	{ID: 1, Title: "Complete Data Science Course", TargetDate: "2024/08/15", Status: "NotStarted"},
	{ID: 2, Title: "Finish Golang API", TargetDate: "2024/08/20", Status: "ActiveGoals"},
	{ID: 3, Title: "Read Rust Book", TargetDate: "2024/07/10", Status: "CompletedGoals"},
}
```

ã“ã‚Œã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æ¸¡ã™ãŸã‚ã€`tmpl.Execute(w, data)` ã® `data` ã«ä¸Šè¨˜ã® `goals` ã‚’æŒ‡å®šã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

---

### âœ… ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šHTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã« `range` ã§åæ˜ ã•ã›ã‚‹

`goal_list.html` ã®è©²å½“éƒ¨åˆ†ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å‹•çš„ã«å¤‰æ›´ã—ã¾ã™ï¼š

```html
{{ range . }}
    {{ if eq .Status "NotStarted" }}
        <!-- Not Startedã®ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
    {{ else if eq .Status "ActiveGoals" }}
        <!-- Active Goalsã®ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
    {{ else if eq .Status "CompletedGoals" }}
        <!-- Completed Goalsã®ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
    {{ end }}
{{ end }}
```

---

### âœ… ã‚¹ãƒ†ãƒƒãƒ— 4ï¼šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ§‹é€ ã®æ•´ç†ï¼ˆãŠã™ã™ã‚ï¼‰

ä»Šå¾Œè¤‡æ•°ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ†å‰²ã™ã‚‹ã¨ç®¡ç†ã—ã‚„ã™ããªã‚Šã¾ã™ï¼š

```
templates/
â”œâ”€â”€ layout.html      â† ãƒ˜ãƒƒãƒ€ãƒ¼ã‚„å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ goal_list.html   â† ã‚³ãƒ³ãƒ†ãƒ³ãƒ„éƒ¨åˆ†ã ã‘
```

`layout.html`ï¼š

```html
<!DOCTYPE html>
<html>
<head>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚„CSSèª­ã¿è¾¼ã¿ -->
</head>
<body>
    {{ template "content" . }}
</body>
</html>
```

`goal_list.html`ï¼š

```html
{{ define "content" }}
    <!-- ç›®æ¨™ãƒªã‚¹ãƒˆã®HTML -->
{{ end }}
```

Goã‚³ãƒ¼ãƒ‰å´ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã¾ã¨ã‚ã¦èª­ã¿è¾¼ã¿ã¾ã™ï¼š

```go
tmpl := template.Must(template.ParseFiles("templates/layout.html", "templates/goal_list.html"))
tmpl.Execute(w, data)
```

---

## âœ… ä»Šå¾Œã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼ˆãƒ•ã‚§ãƒ¼ã‚º2ä»¥é™ï¼‰

| ã‚¹ãƒ†ãƒƒãƒ—        | å†…å®¹                                           |
| --------------- | ---------------------------------------------- |
| DBæ¥ç¶š          | PostgreSQLã‚’æ¥ç¶šã—ã€`Goal`ãƒ‡ãƒ¼ã‚¿ã‚’DBã‹ã‚‰å–å¾—   |
| å­¦ç¿’è¨˜éŒ²ç”»é¢    | `StudyRecord`ã‚’è¿½åŠ ãƒ»è¡¨ç¤ºã™ã‚‹ç”»é¢ã‚’ä½œæˆ        |
| ãƒ•ã‚©ãƒ¼ãƒ å‡¦ç†    | ãƒ•ãƒ­ãƒ³ãƒˆã‹ã‚‰ã®ãƒ•ã‚©ãƒ¼ãƒ æŠ•ç¨¿ã‚’å—ã‘å–ã£ã¦ä¿å­˜å‡¦ç† |
| REST APIåŒ–      | JSONã§ã‚„ã‚Šã¨ã‚Šã™ã‚‹APIåŒ–ã‚‚æ®µéšçš„ã«å¯¾å¿œå¯èƒ½      |
| æ°¸ç¶šåŒ– & ãƒ†ã‚¹ãƒˆ | Dockerã§ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®DBã‚’æ§‹ç¯‰ï¼è‡ªå‹•ãƒ†ã‚¹ãƒˆå°å…¥ |

---

## ğŸ’¡ ä»Šã‚„ã‚‹ã¹ãã“ã¨ï¼ˆã¾ã¨ã‚ï¼‰

* [ ] `Goal`æ§‹é€ ä½“ã‚’ä½œæˆ
* [ ] ä»®ãƒ‡ãƒ¼ã‚¿ã‚’`[]Goal`ã¨ã—ã¦ `tmpl.Execute(w, data)` ã«æ¸¡ã™
* [ ] `goal_list.html` ã‚’ `{{range .}}` ã§å‹•çš„æç”»å¯¾å¿œã«æ›¸ãæ›ãˆ
* [ ] å¿…è¦ã«å¿œã˜ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ `layout.html` ã§åˆ†å‰²

---

æº–å‚™ãŒã§ããŸã‚‰ã€å‹•çš„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å…·ä½“çš„ãªæ›¸ãæ–¹ã‚„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ†å‰²ã®ã‚³ãƒ¼ãƒ‰ã‚‚æä¾›ã§ãã¾ã™ï¼
é€²ã‚æ–¹ã®å¸Œæœ›ã‚„è³ªå•ãŒã‚ã‚Œã°ã€ã©ã‚“ã©ã‚“èã„ã¦ãã ã•ã„ã­ã€‚
